(function(e){function t(t){for(var o,s,r=t[0],i=t[1],l=t[2],d=0,m=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&m.push(c[s][0]),c[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,r=1;r<n.length;r++){var i=n[r];0!==c[i]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},c={app:0},a=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue_ig/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"22fd":function(e,t,n){},"35ee":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function c(e,t,n,c,a,s){var r=Object(o["p"])("loadPage"),i=Object(o["p"])("userProfile"),l=Object(o["p"])("footers");return Object(o["k"])(),Object(o["d"])(o["a"],null,[e.accessToken?Object(o["e"])("",!0):(Object(o["k"])(),Object(o["d"])(r,{key:0})),e.accessToken?(Object(o["k"])(),Object(o["d"])(i,{key:1})):Object(o["e"])("",!0),e.accessToken?(Object(o["k"])(),Object(o["d"])(l,{key:2})):Object(o["e"])("",!0)],64)}var a=n("5502"),s=Object(o["w"])("data-v-61e45009");Object(o["m"])("data-v-61e45009");var r={class:"load"},i=Object(o["f"])(" LOADING, PLEASE WAIT "),l=Object(o["g"])("div",{class:"loader"},null,-1);Object(o["l"])();var u=s((function(e,t,n,c,a,s){return Object(o["k"])(),Object(o["d"])("div",r,[i,l])})),d={name:"loadPage",props:{msg:String}};n("af36");d.render=u,d.__scopeId="data-v-61e45009";var m=d,b=Object(o["w"])("data-v-26d3271a");Object(o["m"])("data-v-26d3271a");var p={id:"header"},g={class:"account"},f={class:"name"},v=Object(o["g"])("i",null,"9+",-1),O={class:"symbols"},h={id:"user"},j={class:"user container-fluid row m-0"},k={class:"avatar col-3"},w={class:"item col-9"},I=Object(o["g"])("br",null,null,-1),y={class:"personal-info container-fluid row"},_=Object(o["g"])("br",null,null,-1),T=Object(o["g"])("div",{class:"edit-personal"},"編輯個人檔案",-1);Object(o["l"])();var D=b((function(e,t,n,c,a,s){var r=Object(o["p"])("fa"),i=Object(o["p"])("album"),l=Object(o["p"])("storyLine");return Object(o["k"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("div",p,[Object(o["g"])("div",g,[Object(o["g"])("div",f,[Object(o["g"])("p",null,[Object(o["f"])(Object(o["q"])(e.username)+" ",1),v])]),Object(o["g"])("div",O,[Object(o["g"])(r,{class:"plus",icon:["fas","plus"]}),Object(o["g"])(r,{class:"bars",icon:["fas","bars"]})])])]),Object(o["g"])("div",h,[Object(o["g"])("div",j,[Object(o["g"])("div",k,[Object(o["g"])("img",{src:e.avatar,alt:"avatar","data-bs-toggle":"modal","data-bs-target":"#storyModal",class:[0!=e.storyIDs.length?"story":""]},null,10,["src"])]),Object(o["g"])("div",w,[(Object(o["k"])(!0),Object(o["d"])(o["a"],null,Object(o["o"])(e.itemInfo,(function(e,t){return Object(o["k"])(),Object(o["d"])("div",{class:"item-info",key:t},[Object(o["f"])(Object(o["q"])(e.value)+" ",1),I,Object(o["f"])(" "+Object(o["q"])(e.title),1)])})),128))])]),Object(o["g"])("div",y,[Object(o["f"])(Object(o["q"])(e.idname)+" ",1),_,Object(o["f"])(" "+Object(o["q"])(e.biography),1)]),T,Object(o["g"])(i),0!=e.storyIDs.length?(Object(o["k"])(),Object(o["d"])(l,{key:0})):Object(o["e"])("",!0)])],64)})),C=(n("b0c0"),Object(o["w"])("data-v-3a210776"));Object(o["m"])("data-v-3a210776");var x={key:0,class:"albums container-fluid row"},M={key:1,class:"mentions container-fluid row"},P=Object(o["g"])("div",{class:"test"},null,-1);Object(o["l"])();var A=C((function(e,t,n,c,a,s){var r=Object(o["p"])("fa"),i=Object(o["p"])("timeLine");return Object(o["k"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("div",{class:["switch-row row",{fixed:a.active}],ref:"switch"},[Object(o["g"])("div",{class:"posts col-6",onClick:t[1]||(t[1]=function(e){return s.switchModel(1)})},[Object(o["g"])(r,{class:"posts",icon:["fas","th"]})]),Object(o["g"])("div",{class:"tag col-6",onClick:t[2]||(t[2]=function(e){return s.switchModel(2)})},[Object(o["g"])(r,{class:"tag",icon:["fas","user-tag"]})])],2),1==a.toggle?(Object(o["k"])(),Object(o["d"])("div",x,[(Object(o["k"])(!0),Object(o["d"])(o["a"],null,Object(o["o"])(e.photos,(function(e,t){return Object(o["k"])(),Object(o["d"])("div",{class:"photos",key:t,onClick:function(n){return s.photoLine(e,t)}},[Object(o["g"])("div",{class:"postImg",style:{"background-image":"url("+e+")"},"data-bs-toggle":"modal","data-bs-target":"#photoModal"},null,4)],8,["onClick"])})),128))])):Object(o["e"])("",!0),2==a.toggle?(Object(o["k"])(),Object(o["d"])("div",M,[(Object(o["k"])(!0),Object(o["d"])(o["a"],null,Object(o["o"])(e.tagPhotos,(function(e,t){return Object(o["k"])(),Object(o["d"])("div",{class:"tagPhotos",key:t,onClick:function(n){return s.photoLine(e,t)}},[Object(o["g"])("div",{class:"tagImg",style:{"background-image":"url("+e+")"},"data-bs-toggle":"modal","data-bs-target":"#photoModal"},null,4)],8,["onClick"])})),128)),P])):Object(o["e"])("",!0),Object(o["g"])(i)],64)})),U=Object(o["w"])("data-v-bfe8b230");Object(o["m"])("data-v-bfe8b230");var S={class:"modal fade",id:"photoModal",role:"dialog","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},$={class:"modal-dialog  modal-fullscreen-sm-down",role:"document"},q={class:"modal-content"},L={class:"modal-header"},R={class:"littleInfo"},E={class:"user-pic"},F={class:"avatar-account"},B={class:"modal-body"},G={class:"container-fluid"},H={class:"photoLeft"},J={class:"symbol"},V={class:"like"},Y={class:"caption"},N=Object(o["g"])("hr",null,null,-1),W={class:"comments"},z={class:"visitor d-flex"},K={class:"commentUser "},Q={class:"text "},X={key:0,class:"reply"},Z={class:"user-account"},ee={class:"text"},te={key:1,class:"editButtons"},ne={class:"alert alert-danger"},oe={class:"buttons"};Object(o["l"])();var ce=U((function(e,t,n,c,a,s){var r=Object(o["p"])("fa");return Object(o["k"])(),Object(o["d"])("div",S,[Object(o["g"])("div",$,[Object(o["g"])("div",q,[Object(o["g"])("div",L,[Object(o["g"])("div",R,[Object(o["g"])("div",E,[Object(o["g"])("img",{src:e.avatar,alt:"photo"},null,8,["src"])]),Object(o["g"])("div",F,Object(o["q"])(e.username),1)]),Object(o["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=function(){return s.close&&s.close.apply(s,arguments)})})]),Object(o["g"])("div",B,[Object(o["g"])("div",G,[Object(o["g"])("div",H,[Object(o["g"])("img",{src:e.modalPhoto,alt:"photo"},null,8,["src"])]),Object(o["g"])("div",J,[Object(o["g"])(r,{class:"heart",icon:["far","heart"]}),Object(o["g"])(r,{class:"comment",icon:["far","comment"],onClick:s.showTextarea},null,8,["onClick"])]),Object(o["g"])("div",V,Object(o["q"])(e.like)+" likes ",1),Object(o["g"])("div",Y,Object(o["q"])(e.caption),1),N,Object(o["g"])("div",W,[(Object(o["k"])(!0),Object(o["d"])(o["a"],null,Object(o["o"])(e.comments,(function(n,c){return Object(o["k"])(),Object(o["d"])("div",{class:"originComments edit clearfix",key:c,onClick:Object(o["v"])((function(e){return s.edit(c)}),["prevent"])},[Object(o["g"])("div",z,[Object(o["g"])("div",K,Object(o["q"])(n.username),1),Object(o["g"])("div",Q,Object(o["q"])(n.text),1)]),null!=e.replies?(Object(o["k"])(),Object(o["d"])("div",X,[(Object(o["k"])(!0),Object(o["d"])(o["a"],null,Object(o["o"])(e.replies[c],(function(e,t){return Object(o["k"])(),Object(o["d"])("div",{class:"replyUser d-flex",key:t},[Object(o["g"])("div",Z,Object(o["q"])(e.username),1),Object(o["g"])("div",ee,Object(o["q"])(e.text),1)])})),128))])):Object(o["e"])("",!0),e.activeComment!=c||e.isTextarea?Object(o["e"])("",!0):(Object(o["k"])(),Object(o["d"])("div",te,[Object(o["g"])("button",{class:"delete",onClick:Object(o["v"])((function(e){return s.deleteComment(n)}),["stop"])},"delete",8,["onClick"]),Object(o["g"])("button",{class:"cancel",onClick:t[2]||(t[2]=Object(o["v"])((function(){return s.cancel&&s.cancel.apply(s,arguments)}),["stop"]))},"cancel")]))],8,["onClick"])})),128))]),e.isTextarea?(Object(o["k"])(),Object(o["d"])("div",{key:0,id:"text-panel",class:a.newClass},[Object(o["g"])("div",{class:["error-msg",[e.errorMessage?"open":""]]},[Object(o["g"])("div",ne,Object(o["q"])(e.errorMessage),1)],2),Object(o["u"])(Object(o["g"])("textarea",{name:"description",id:"description",placeholder:"請輸入文字...","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.newComment=e})},null,512),[[o["r"],s.newComment]]),Object(o["g"])("div",oe,[Object(o["g"])("button",{class:"create",onClick:t[4]||(t[4]=function(){return s.postComment&&s.postComment.apply(s,arguments)})},"comment"),Object(o["g"])("button",{class:"cancel",onClick:t[5]||(t[5]=function(){return s.close&&s.close.apply(s,arguments)})},"clear")])],2)):Object(o["e"])("",!0)])])])])])})),ae=n("5530"),se={name:"timeLine",data:function(){return{newClass:"new"}},computed:Object(ae["a"])({newComment:{get:function(){return this.$store.state.commentInfo},set:function(e){this.$store.commit("createComment",e)}}},Object(a["b"])({avatar:function(e){return e.intro.avatar},username:function(e){return e.intro.username},modalPhoto:function(e){return e.eventData.photo},like:function(e){return e.eventData.like},caption:function(e){return e.eventData.caption},comments:function(e){return e.comments[e.eventID]},replies:function(e){return e.replies[e.eventID]},activeComment:"activeComment",isTextarea:"isTextarea",errorMessage:"errorMessage"})),methods:{edit:function(e){this.$store.commit("editMode",e)},deleteComment:function(e){this.$store.dispatch("deleteComment",e),console.log(e.id)},cancel:function(){this.$store.commit("cancel")},showTextarea:function(){this.$store.commit("openTextarea")},close:function(){this.newComment="",this.$store.commit("closeTextarea")},postComment:function(){this.$store.dispatch("postComment")}},created:function(){this.$store.commit("cancel")}};n("bb0c");se.render=ce,se.__scopeId="data-v-bfe8b230";var re=se,ie={name:"album",components:{timeLine:re},data:function(){return{active:!1,toggle:1}},computed:Object(a["b"])({photos:"photos",tagPhotos:"tagPhotos"}),methods:{scroll:function(){var e=this.$refs.switch.getBoundingClientRect().top+window.scrollY;this.active=window.scrollY>=e},switchModel:function(e){this.toggle=e},photoLine:function(e,t){1==this.toggle?(this.$store.commit("createModal",{currentItem:e,index:t}),this.$store.dispatch("readReply")):this.$store.commit("createTagModal",{currentItem:e,index:t})}},created:function(){window.addEventListener("scroll",this.scroll)}};n("9b99");ie.render=A,ie.__scopeId="data-v-3a210776";var le=ie,ue=Object(o["w"])("data-v-2babd260");Object(o["m"])("data-v-2babd260");var de={class:"modal fade",id:"storyModal",role:"dialog","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},me={class:"modal-dialog modal-dialog-scrollable modal-fullscreen-sm-down",role:"document"},be={class:"modal-content"},pe={class:"modal-header"},ge={class:"littleInfo"},fe={class:"user-pic"},ve={class:"user-account"},Oe=Object(o["g"])("div",null,"限時動態",-1),he={class:"duringTime"},je={class:"time-bar row m-0"},ke={class:"modal-body row"},we={class:"container-fluid p-0"};Object(o["l"])();var Ie=ue((function(e,t,n,c,a,s){return Object(o["k"])(),Object(o["d"])("div",de,[Object(o["g"])("div",me,[Object(o["g"])("div",be,[Object(o["g"])("div",pe,[Object(o["g"])("div",ge,[Object(o["g"])("div",fe,[Object(o["g"])("img",{src:e.avatar,alt:"photo"},null,8,["src"])]),Object(o["g"])("div",ve,[Oe,Object(o["g"])("div",he,Object(o["q"])(s.duringTime),1)])]),Object(o["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=function(){return s.close&&s.close.apply(s,arguments)})})]),Object(o["g"])("div",je,[(Object(o["k"])(!0),Object(o["d"])(o["a"],null,Object(o["o"])(e.stories.length,(function(t,n){return Object(o["k"])(),Object(o["d"])("li",{key:n,style:{width:"calc("+98/e.stories.length+"%)"},class:[a.step==n?"chosen":""]},null,6)})),128))]),Object(o["g"])("div",ke,[Object(o["g"])("div",we,[(Object(o["k"])(!0),Object(o["d"])(o["a"],null,Object(o["o"])(e.stories,(function(e,n){return Object(o["k"])(),Object(o["d"])("div",{class:"stories",key:n},["IMAGE"==e.media_type?Object(o["u"])((Object(o["k"])(),Object(o["d"])("div",{key:0,class:"storyImg",style:{"background-image":"url("+e.media_url+")"},onClickCapture:t[2]||(t[2]=function(e){return s.changeStory()})},null,36)),[[o["s"],a.step===n]]):Object(o["u"])((Object(o["k"])(),Object(o["d"])("div",{key:1,class:"storyVideo",onClickCapture:t[3]||(t[3]=function(e){return s.changeStory()})},[Object(o["g"])("iframe",{src:e.media_url,frameborder:"0"},null,8,["src"])],544)),[[o["s"],a.step===n]])])})),128))])])])])])})),ye={name:"storyLine",data:function(){return{step:0}},computed:Object(ae["a"])({duringTime:function(){return this.$store.state.duringTime[this.step]}},Object(a["b"])({avatar:function(e){return e.intro.avatar},stories:"stories"})),methods:{changeStory:function(){this.step<this.$store.state.storyIDs.length-1&&this.step++,console.log(this.step)},close:function(){var e=this;setTimeout((function(){e.step=0}),500)}},created:function(){this.close()}};n("b310");ye.render=Ie,ye.__scopeId="data-v-2babd260";var _e=ye,Te={name:"userProfile",components:{album:le,storyLine:_e},computed:Object(a["b"])({username:function(e){return e.intro.username},avatar:function(e){return e.intro.avatar},idname:function(e){return e.intro.name},biography:function(e){return e.intro.biography},itemInfo:"itemInfo",storyIDs:"storyIDs",stories:"stories"})};n("65d0");Te.render=D,Te.__scopeId="data-v-26d3271a";var De=Te,Ce=Object(o["w"])("data-v-a921f4ce");Object(o["m"])("data-v-a921f4ce");var xe={class:"footers"};Object(o["l"])();var Me=Ce((function(e,t,n,c,a,s){var r=Object(o["p"])("fa");return Object(o["k"])(),Object(o["d"])("div",xe,[Object(o["g"])("div",null,[Object(o["g"])(r,{icon:["fas","house-user"]})]),Object(o["g"])("div",null,[Object(o["g"])(r,{icon:["fas","search"]})]),Object(o["g"])("div",null,[Object(o["g"])(r,{icon:["fas","plus-square"]})]),Object(o["g"])("div",null,[Object(o["g"])(r,{icon:["fas","shopping-bag"]})]),Object(o["g"])("div",null,[Object(o["g"])(r,{icon:["fas","user-circle"]})])])})),Pe={name:"footers",props:{msg:String}};n("eceb");Pe.render=Me,Pe.__scopeId="data-v-a921f4ce";var Ae=Pe,Ue={name:"App",components:{loadPage:m,userProfile:De,footers:Ae},computed:Object(a["b"])({accessToken:"accessToken"}),created:function(){this.$store.dispatch("accessCode")}};n("83cb");Ue.render=c;var Se=Ue,$e=(n("7b17"),n("ab8b"),n("ecee")),qe=n("c074"),Le=n("f2d1"),Re=n("b702"),Ee=n("ad3d"),Fe=n("1da1"),Be=(n("96cf"),n("159b"),n("4e82"),n("a434"),n("99af"),n("ac1f"),n("1276"),n("841c"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("bc3a")),Ge=n.n(Be),He=Object(a["a"])({strict:!0,state:{accessToken:null,userID:[],igAccountID:[],itemInfo:[{title:"貼文",value:""},{title:"粉絲",value:""},{title:"追蹤中",value:""}],totalData:[],tagData:[],intro:{username:null,avatar:null,name:null,biography:null},photos:[],tagPhotos:[],eventID:null,eventInfo:{postID:null,photo:null,like:null,caption:null},eventData:[],isTextarea:!0,errorMessage:null,activeComment:[],comments:[],replies:[],commentInfo:[],storyIDs:[],stories:[],duringTime:[]},mutations:{getAccessToken:function(e,t){e.accessToken=t},getUserID:function(e,t){e.userID=t},getAccountID:function(e,t){e.igAccountID=t},getMetaData:function(e,t){e.totalData=t.media.data,e.intro.username=t.username,e.intro.avatar=t.profile_picture_url,e.intro.name=t.name,e.intro.biography=t.biography,e.itemInfo[0].value=t.media_count,e.itemInfo[1].value=t.followers_count,e.itemInfo[2].value=t.follows_count},getTagData:function(e,t){e.tagData=t},photoInfos:function(e){e.totalData.forEach((function(t){e.photos.push(t.media_url)}))},tagPhotoInfos:function(e){e.tagData.forEach((function(t){e.tagPhotos.push(t.media_url)}))},createModal:function(e,t){var n=t.currentItem,o=t.index;e.eventID=o,e.eventInfo.photo=n,e.eventInfo.postID=e.totalData[e.eventID].id,e.eventInfo.caption=e.totalData[e.eventID].caption,e.eventInfo.like=e.totalData[e.eventID].like_count,e.eventData=Object.assign([],e.eventInfo),console.log(e.eventData)},createTagModal:function(e,t){var n=t.currentItem,o=t.index;e.showModal=!0,e.eventID=o,e.eventInfo.photo=n,e.eventInfo.postID=e.tagData[e.eventID].id,e.eventInfo.caption=e.tagData[e.eventID].caption,e.eventInfo.like=e.tagData[e.eventID].like_count,e.eventData=Object.assign([],e.eventInfo),console.log(e.eventData)},getComments:function(e,t){var n=t.sort((function(e,t){return e.timestamp<t.timestamp?1:-1}));e.comments[e.eventID]=Object.assign([],n),console.log(e.comments),console.log(e.eventID)},getReplies:function(e,t){for(var n=[],o=0;o<t.length;o++)n.push(t[o].sort((function(e,t){return e.timestamp>t.timestamp?1:-1})));e.replies[e.eventID]=n,console.log(e.replies)},putComments:function(e,t){var n={id:t.id,username:"vue_demo_ig",text:e.commentInfo,like_count:0};e.comments[e.eventID].splice(0,0,n),console.log(e.comments)},showErr:function(e,t){e.errorMessage=t},removeComments:function(e){e.comments[e.eventID].splice(e.activeComment,1)},editMode:function(e,t){e.activeComment=t,console.log(e.activeComment)},cancel:function(e){e.activeComment=null,console.log(e.activeComment)},closeEditMode:function(e){e.activeComment=null},createComment:function(e,t){e.commentInfo=t},openTextarea:function(e){e.isTextarea=!e.isTextarea,e.commentInfo=[]},closeTextarea:function(e){e.activeComment=null,e.errorMessage=null,e.commentInfo=[]},GetStoriesId:function(e,t){for(var n=t.length,o=0;o<n;o++)e.storyIDs[o]=t[o].id;console.log(e.storyIDs)},putStoryData:function(e,t){var n=t.sort((function(e,t){return e.timestamp>t.timestamp?1:-1}));e.stories=n;for(var o={hr:(new Date).getHours(),min:(new Date).getMinutes(),sec:(new Date).getSeconds()},c=0;c<t.length;c++)e.stories[c]={id:t[c].id,media_type:t[c].media_type,media_url:t[c].media_url,timestamp:t[c].timestamp,postTime:{hr:new Date(t[c].timestamp).getHours(),min:new Date(t[c].timestamp).getMinutes(),sec:new Date(t[c].timestamp).getSeconds()}},o["hr"]>e.stories[c].postTime["hr"]?e.duringTime[c]=o["hr"]-e.stories[c].postTime["hr"]+"小時":o["hr"]==e.stories[c].postTime["hr"]&&o["min"]>e.stories[c].postTime["min"]?e.duringTime[c]=o["min"]-e.stories[c].postTime["min"]+"分鐘":o["hr"]+1==e.stories[c].postTime["hr"]&&o["min"]<e.stories[c].postTime["min"]?e.duringTime[c]=o["min"]+60-e.stories[c].postTime["min"]+"分鐘":o["hr"]==e.stories[c].postTime["hr"]&&o["min"]==e.stories[c].postTime["min"]||o["hr"]==e.stories[c].postTime["hr"]&&o["min"]==e.stories[c].postTime["min"]?e.duringTime[c]=o["sec"]-e.stories[c].postTime["sec"]+"秒":e.duringTime[c]=o["hr"]-e.stories[c].postTime["hr"]+24+"小時";console.log(e.stories),console.log(e.duringTime)}},actions:{accessCode:function(e){return Object(Fe["a"])(regeneratorRuntime.mark((function t(){var n,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.dispatch,o="https://www.facebook.com/v17.0/dialog/oauth?client_id=".concat("339667141262982","&redirect_uri=").concat("https://hiltonpo.github.io/vue_ig/","&state={state-param}&scope=").concat("instagram_basic,pages_show_list,pages_read_engagement,instagram_manage_comments,business_management,public_profile,instagram_content_publish,ads_management,instagram_manage_insights"),c=window.location.search.split("&")[0].substr(6),c||(window.location=o),n("accessToken",{loginUrl:o,code:c});case 5:case"end":return t.stop()}}),t)})))()},accessToken:function(e,t){var n=e.state,o=e.dispatch,c=e.commit,a=t.loginUrl,s=t.code;return Ge.a.get("https://graph.facebook.com/v17.0/oauth/access_token",{params:{client_id:"339667141262982",redirect_uri:"https://hiltonpo.github.io/vue_ig/",client_secret:"fa83ce895addeb13132068014862c9cd",code:s}},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(){var e=Object(Fe["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c("getAccessToken",t.data.access_token);case 2:return e.next=4,o("getUserPage");case 4:return e.next=6,o("getIgAccountID");case 6:o("basicInfos"),o("tagInfos"),o("stories"),console.log(n.accessToken),console.log(n.userID),console.log(n.igAccountID);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){100==e.response.data.error.code&&(window.location=a)}))},getUserPage:function(e){var t=e.state,n=e.commit;return Ge.a.get("https://graph.facebook.com/v17.0/me/accounts",{params:{access_token:t.accessToken}},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){var t=e.data.data[0]["id"];n("getUserID",t)})).catch((function(e){console.log(e)}))},getIgAccountID:function(e){var t=e.state,n=e.commit;return Ge.a.get("https://graph.facebook.com/v17.0/"+t.userID,{params:{fields:"instagram_business_account",access_token:t.accessToken}},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){var t=e.data.instagram_business_account.id;n("getAccountID",t)})).catch((function(e){console.log(e)}))},basicInfos:function(e){var t=e.commit,n=e.state;Ge.a.get("https://graph.facebook.com/v17.0/"+n.igAccountID,{params:{fields:"business_discovery.username(vue_demo_ig){username,website,name,ig_id,id,profile_picture_url,biography,follows_count,followers_count,media_count,media{caption,like_count,comments_count,media_url,permalink,media_type,timestamp}}",access_token:n.accessToken}},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){console.log(e.data),t("getMetaData",e.data.business_discovery),t("photoInfos")})).catch((function(e){console.log(e)}))},tagInfos:function(e){var t=e.commit,n=e.state;Ge.a.get("https://graph.facebook.com/v11.0/"+n.igAccountID+"/tags",{params:{fields:"id,caption,username,media_url,like_count",access_token:n.accessToken}},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){console.log(e.data),t("getTagData",e.data.data),t("tagPhotoInfos")})).catch((function(e){console.log(e)}))},readComment:function(e){var t=e.commit,n=e.state;return Ge.a.get("https://graph.facebook.com/v11.0/"+n.eventInfo.postID+"/comments",{params:{fields:"id,username,text,like_count,replies,timestamp",access_token:n.accessToken}},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){t("getComments",e.data.data),console.log(e.data.data)})).catch((function(e){console.log(e)}))},readReply:function(e){var t=e.dispatch,n=e.commit,o=e.state;function c(){return a.apply(this,arguments)}function a(){return a=Object(Fe["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t("readComment");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)}c().then(Object(Fe["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(o.comments[o.eventID].map((function(e){return Ge.a.get("https://graph.facebook.com/v11.0/"+e.id+"/replies",{params:{fields:"id,username,text,timestamp",access_token:o.accessToken}},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})})));case 2:t=e.sent,console.log(t),n("getReplies",t.map((function(e){return e.data.data})));case 5:case"end":return e.stop()}}),e)}))))},postComment:function(e){var t=e.commit,n=e.state;0!=n.commentInfo.length?Ge.a.post("https://graph.facebook.com/v11.0/"+n.eventData.postID+"/comments",{message:n.commentInfo,access_token:n.accessToken}).then((function(e){t("putComments",e.data),t("closeTextarea"),console.log(e.data)})).catch((function(e){console.log(e.response.data.error.message),t("showErr",e.response.data.error.message.substr(7))})):t("showErr","comment cannot be blank")},deleteComment:function(e,t){var n=e.commit,o=e.state;Ge.a.delete("https://graph.facebook.com/v11.0/"+t.id,{data:{access_token:o.accessToken}}).then((function(e){n("removeComments"),n("closeEditMode"),console.log(e.data)})).catch((function(e){console.log(e)}))},stories:function(e){var t=e.commit,n=e.state,o=e.dispatch;console.log(n.igAccountID),Ge.a.get("https://graph.facebook.com/v11.0/"+n.igAccountID+"/stories",{params:{access_token:n.accessToken}},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){console.log(e.data.data),t("GetStoriesId",e.data.data),o("storiesInfo")})).catch((function(e){console.log(e)}))},storiesInfo:function(e){for(var t=e.state,n=e.commit,o=[],c=[],a=0;a<t.storyIDs.length;a++)o.push(Ge.a.get("https://graph.facebook.com/v11.0/"+t.storyIDs[a],{params:{fields:"caption,id,media_type,media_url,permalink,thumbnail_url,timestamp,username",access_token:t.accessToken}},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((function(e){c.push(e.data)})).catch((function(e){console.log(e)})));Promise.all(o).then((function(){console.log(c),n("putStoryData",c)}))}},modules:{}});$e["c"].add(qe["a"],Le["a"],Re["a"]),Object(o["c"])(Se).use(He).component("fa",Ee["a"]).mount("#app")},6156:function(e,t,n){},"65d0":function(e,t,n){"use strict";n("22fd")},"83cb":function(e,t,n){"use strict";n("6156")},"9b99":function(e,t,n){"use strict";n("e422")},af36:function(e,t,n){"use strict";n("cb09")},b310:function(e,t,n){"use strict";n("35ee")},bb0c:function(e,t,n){"use strict";n("db56")},cb09:function(e,t,n){},db56:function(e,t,n){},e422:function(e,t,n){},eceb:function(e,t,n){"use strict";n("f22a")},f22a:function(e,t,n){}});
//# sourceMappingURL=app.483278e4.js.map